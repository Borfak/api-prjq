{"ast":null,"code":"import _regeneratorRuntime from\"/Users/borfak/pony/api-prjq/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/borfak/pony/api-prjq/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/borfak/pony/api-prjq/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/borfak/pony/api-prjq/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/borfak/pony/api-prjq/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/borfak/pony/api-prjq/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useEffect,useState}from\"react\";import{Dialog,Transition}from\"@headlessui/react\";import api from\"../api/posts\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Posts=function Posts(){function closeModal(){setIsOpen(false);}function openModal(){setIsOpen(true);}var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),posts=_useState4[0],setPosts=_useState4[1];var _useState5=useState({lat:\"\",lon:\"\",location:\"\",link:\"\"}),_useState6=_slicedToArray(_useState5,2),formData=_useState6[0],setFormData=_useState6[1];var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormData(function(prevFormData){return _objectSpread(_objectSpread({},prevFormData),{},_defineProperty({},name,value));});};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();setPosts(function(prev){return[formData].concat(_toConsumableArray(prev));});setFormData({lat:\"\",lon:\"\",location:\"\",link:\"\"});closeModal();case 4:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var deletePost=function deletePost(index){setPosts(function(prev){return prev.filter(function(post,i){return i!==index;});});};useEffect(function(){var fetchPosts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var responce;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.get(\"/locations/units/map/simple\");case 3:responce=_context2.sent;setPosts(responce.data);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(\"Error fetching posts:\",_context2.t0);case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function fetchPosts(){return _ref2.apply(this,arguments);};}();fetchPosts();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 items-center\",children:posts.map(function(post,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"grid max-w-lg mb-5 p-6 bg-white border border-gray-200  rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-600 font-bold\",children:[\"lat: \",post.lat]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"text-indigo-300 font-bold\",children:[\"lon: \",post.lon]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-indigo-600 font-bold\",children:[\"location: \",post.location]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-indigo-900 font-bold\",children:[\"link: \",post.link]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deletePost(index);},className:\"bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded\",children:\"Delete\"})]},index);})});};export default Posts;","map":{"version":3,"names":["React","Fragment","useEffect","useState","Dialog","Transition","api","jsxs","_jsxs","jsx","_jsx","Posts","closeModal","setIsOpen","openModal","_useState","_useState2","_slicedToArray","isOpen","_useState3","_useState4","posts","setPosts","_useState5","lat","lon","location","link","_useState6","formData","setFormData","handleChange","event","_event$target","target","name","value","prevFormData","_objectSpread","_defineProperty","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","preventDefault","concat","_toConsumableArray","stop","_x","apply","arguments","deletePost","index","filter","post","i","fetchPosts","_ref2","_callee2","responce","_callee2$","_context2","get","sent","data","t0","console","log","className","children","map","onClick"],"sources":["/Users/borfak/pony/api-prjq/src/components/Posts.jsx"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport { Dialog, Transition } from \"@headlessui/react\";\nimport api from \"../api/posts\";\n\n\nconst Posts = () => {\n\t\t function closeModal() {\n     setIsOpen(false);\n   }\n\n   function openModal() {\n     setIsOpen(true);\n   }\n\n   let [isOpen, setIsOpen] = useState(false);\n\n   const [posts, setPosts] = useState([]);\n\n   const [formData, setFormData] = useState({\n     lat: \"\",\n     lon: \"\",\n     location: \"\",\n     link: \"\",\n   });\n\n   const handleChange = (event) => {\n     const { name, value } = event.target;\n     setFormData((prevFormData) => ({ ...prevFormData, [name]: value }));\n   };\n\n   const handleSubmit = async (event) => {\n     event.preventDefault();\n     setPosts((prev) => [formData, ...prev]);\n     setFormData({\n       lat: \"\",\n       lon: \"\",\n       location: \"\",\n       link: \"\",\n     });\n     closeModal();\n   };\n\n   const deletePost = (index) => {\n     setPosts((prev) => prev.filter((post, i) => i !== index));\n   };\n\n   useEffect(() => {\n     const fetchPosts = async () => {\n       try {\n         const responce = await api.get(\"/locations/units/map/simple\");\n         setPosts(responce.data);\n       } catch (err) {\n         console.log(\"Error fetching posts:\", err);\n       }\n     };\n\n     fetchPosts();\n   }, []);\n\n   return (\n   \n\n       <div className=\"grid grid-cols-2 items-center\">\n         {posts.map((post, index) => (\n           <div\n             key={index}\n             className=\"grid max-w-lg mb-5 p-6 bg-white border border-gray-200 \n      rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700\"\n           >\n             <p className=\"text-red-600 font-bold\">lat: {post.lat}</p>\n             <h3 className=\"text-indigo-300 font-bold\">lon: {post.lon}</h3>\n             <p className=\"text-indigo-600 font-bold\">\n               location: {post.location}\n             </p>\n             <p className=\"text-indigo-900 font-bold\">link: {post.link}</p>\n             <button\n               onClick={() => deletePost(index)}\n               className=\"bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded\"\n             >\n               Delete\n             </button>\n           </div>\n         ))}\n       </div>\n   );\n\n}\n\nexport default Posts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}