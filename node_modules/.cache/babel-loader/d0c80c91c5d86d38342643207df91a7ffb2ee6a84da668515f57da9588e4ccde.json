{"ast":null,"code":"import _regeneratorRuntime from\"/Users/borfak/pony/api-prjq/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/borfak/pony/api-prjq/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/borfak/pony/api-prjq/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import api from\"../api/posts\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Posts=function Posts(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var deletePost=function deletePost(index){setPosts(function(prev){return prev.filter(function(post,i){return i!==index;});});};useEffect(function(){var fetchPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var responce;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.get(\"/locations/units/map/simple\");case 3:responce=_context.sent;setPosts(responce.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"Error fetching posts:\",_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchPosts(){return _ref.apply(this,arguments);};}();fetchPosts();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 items-center\",children:posts.map(function(post,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"grid max-w-lg mb-5 p-6 bg-white border border-gray-200  rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-600 font-bold\",children:[\"lat: \",post.lat]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"text-indigo-300 font-bold\",children:[\"lon: \",post.lon]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-indigo-600 font-bold\",children:[\"location: \",post.location]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-indigo-900 font-bold\",children:[\"link: \",post.link]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deletePost(index);},className:\"bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded\",children:\"Delete\"})]},index);})});};export default Posts;","map":{"version":3,"names":["React","useEffect","useState","api","jsxs","_jsxs","jsx","_jsx","Posts","_useState","_useState2","_slicedToArray","posts","setPosts","deletePost","index","prev","filter","post","i","fetchPosts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","responce","wrap","_callee$","_context","next","get","sent","data","t0","console","log","stop","apply","arguments","className","children","map","lat","lon","location","link","onClick"],"sources":["/Users/borfak/pony/api-prjq/src/components/Posts.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport api from \"../api/posts\";\n\n\nconst Posts = () => {\n\t\t\n   const [posts, setPosts] = useState([]);\n\n   const deletePost = (index) => {\n     setPosts((prev) => prev.filter((post, i) => i !== index));\n   };\n\n   useEffect(() => {\n     const fetchPosts = async () => {\n       try {\n         const responce = await api.get(\"/locations/units/map/simple\");\n         setPosts(responce.data);\n       } catch (err) {\n         console.log(\"Error fetching posts:\", err);\n       }\n     };\n\n     fetchPosts();\n   }, []);\n\n   return (\n   \n\n       <div className=\"grid grid-cols-2 items-center\">\n         {posts.map((post, index) => (\n           <div\n             key={index}\n             className=\"grid max-w-lg mb-5 p-6 bg-white border border-gray-200 \n      rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700\"\n           >\n             <p className=\"text-red-600 font-bold\">lat: {post.lat}</p>\n             <h3 className=\"text-indigo-300 font-bold\">lon: {post.lon}</h3>\n             <p className=\"text-indigo-600 font-bold\">\n               location: {post.location}\n             </p>\n             <p className=\"text-indigo-900 font-bold\">link: {post.link}</p>\n             <button\n               onClick={() => deletePost(index)}\n               className=\"bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded\"\n             >\n               Delete\n             </button>\n           </div>\n         ))}\n       </div>\n   );\n\n}\n\nexport default Posts;\n"],"mappings":"mWAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,cAAc,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAG/B,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAEjB,IAAAC,SAAA,CAA0BP,QAAQ,CAAC,EAAE,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAEtB,GAAM,CAAAI,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,KAAK,CAAK,CAC5BF,QAAQ,CAAC,SAACG,IAAI,QAAK,CAAAA,IAAI,CAACC,MAAM,CAAC,SAACC,IAAI,CAAEC,CAAC,QAAK,CAAAA,CAAC,GAAKJ,KAAK,GAAC,GAAC,CAC3D,CAAC,CAEDd,SAAS,CAAC,UAAM,CACd,GAAM,CAAAmB,UAAU,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAb,IAAA,CAAAa,QAAA,CAAAC,IAAA,SAAAD,QAAA,CAAAb,IAAA,GAAAa,QAAA,CAAAC,IAAA,SAEQ,CAAA3B,GAAG,CAAC4B,GAAG,CAAC,6BAA6B,CAAC,QAAvDL,QAAQ,CAAAG,QAAA,CAAAG,IAAA,CACdnB,QAAQ,CAACa,QAAQ,CAACO,IAAI,CAAC,CAACJ,QAAA,CAAAC,IAAA,iBAAAD,QAAA,CAAAb,IAAA,GAAAa,QAAA,CAAAK,EAAA,CAAAL,QAAA,aAExBM,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAAP,QAAA,CAAAK,EAAK,CAAC,CAAC,yBAAAL,QAAA,CAAAQ,IAAA,MAAAZ,OAAA,gBAE7C,kBAPK,CAAAL,UAAUA,CAAA,SAAAC,IAAA,CAAAiB,KAAA,MAAAC,SAAA,OAOf,CAEDnB,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,mBAGIb,IAAA,QAAKiC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAC3C7B,KAAK,CAAC8B,GAAG,CAAC,SAACxB,IAAI,CAAEH,KAAK,qBACrBV,KAAA,QAEEmC,SAAS,CAAC,0JACgF,CAAAC,QAAA,eAE1FpC,KAAA,MAAGmC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,EAAC,OAAK,CAACvB,IAAI,CAACyB,GAAG,EAAI,CAAC,cACzDtC,KAAA,OAAImC,SAAS,CAAC,2BAA2B,CAAAC,QAAA,EAAC,OAAK,CAACvB,IAAI,CAAC0B,GAAG,EAAK,CAAC,cAC9DvC,KAAA,MAAGmC,SAAS,CAAC,2BAA2B,CAAAC,QAAA,EAAC,YAC7B,CAACvB,IAAI,CAAC2B,QAAQ,EACvB,CAAC,cACJxC,KAAA,MAAGmC,SAAS,CAAC,2BAA2B,CAAAC,QAAA,EAAC,QAAM,CAACvB,IAAI,CAAC4B,IAAI,EAAI,CAAC,cAC9DvC,IAAA,WACEwC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAjC,UAAU,CAACC,KAAK,CAAC,EAAC,CACjCyB,SAAS,CAAC,8IAA8I,CAAAC,QAAA,CACzJ,QAED,CAAQ,CAAC,GAfJ1B,KAgBF,CAAC,EACP,CAAC,CACC,CAAC,CAGb,CAAC,CAED,cAAe,CAAAP,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}